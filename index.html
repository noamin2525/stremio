<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>××¨×›×– ×›×ª×•×‘×™×•×ª ×•×ª×•×¡×¤×™× ×œâ€‘Stremio â€” ×’×¨×¡×ª PRO</title>
  <meta name="description" content="×”×ª×§× ×” ××”×™×¨×” ×©×œ ×ª×•×¡×¤×™ ×›×ª×•×‘×™×•×ª ×•×•×™×“××• ×œâ€‘Stremio, ×‘×“×™×§×ª ×–××™× ×•×ª ×‘×–××Ÿ ×××ª, ××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™, ×©×™×ª×•×£, ×“×™×¨×•×’ ×§×”×™×œ×ª×™, ×•××¦×‘ PWA." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Ccircle cx='12' cy='12' r='10' fill='%230f9bff'/%3E%3Ccircle cx='12' cy='10' r='3' fill='white'/%3E%3C/svg%3E"/>
  <style>
    :root{
      --bg:#ffffff;
      --panel:#ffffff;
      --text:#111827;
      --muted:#5b6673;
      --brand:#0f9bff;
      --brand-2:#7c3aed; /* accent */
      --stroke:#e6e9ee;
      --radius:14px;
      --shadow:0 6px 18px rgba(16,24,40,.06);
      --ok:#16a34a; --bad:#ef4444; --warn:#f59e0b;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --bg:#0f141a; --panel:#141b23; --text:#e8eef5; --muted:#a9b7c6; --brand:#7dc3ff; --stroke:#283241; --shadow:0 10px 24px rgba(0,0,0,.35);
      }
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;letter-spacing:.2px}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1024px;margin:0 auto;padding:20px}
    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.85);backdrop-filter:saturate(120%) blur(8px);border-bottom:1px solid var(--stroke)}
    @media (prefers-color-scheme: dark){ header{background:rgba(20,27,35,.75)} }
    .bar{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:10px 0}
    .logo{display:flex;gap:10px;align-items:center;font-weight:900;font-size:18px}
    .logo svg{width:26px;height:26px}
    .actions{display:flex;gap:10px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--stroke);background:var(--panel);color:var(--text);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);display:inline-flex;align-items:center;gap:8px;font-weight:800;cursor:pointer;transition:.15s transform ease}
    .btn:hover{transform:translateY(-1px)}
    .btn.primary{background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff;border-color:transparent}
    .btn.small{padding:8px 12px}
    .btn.pill{border-radius:999px}
    .hero{padding:26px 0 10px}
    .hero h1{margin:0 0 6px;font-size:28px}
    .hero p{margin:0;color:var(--muted)}
    .notice{display:flex;align-items:center;gap:10px;padding:10px 12px;border:1px dashed var(--stroke);border-radius:12px;margin-top:10px}
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px;margin-top:16px}
    .card{grid-column:span 12;background:var(--panel);border:1px solid var(--stroke);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);position:relative;overflow:hidden}
    @media (min-width:720px){ .card.span-6{grid-column:span 6} }
    .card h3{margin:0 0 6px;font-size:18px}
    .card p{margin:0 0 10px;color:var(--muted)}
    .pill{display:inline-flex;gap:8px;align-items:center;font-size:12px;font-weight:800;border:1px solid var(--stroke);padding:6px 10px;border-radius:999px;color:var(--muted)}
    .status{display:inline-flex;align-items:center;gap:6px;margin-inline-start:6px}
    .dot{width:8px;height:8px;border-radius:999px;background:var(--muted)}
    .dot.ok{background:var(--ok)} .dot.bad{background:var(--bad)} .dot.warn{background:var(--warn)}
    .section-title{display:flex;align-items:center;gap:10px;margin:22px 0 8px}
    .section-title svg{width:22px;height:22px}
    .input{width:100%;padding:12px 14px;border-radius:12px;background:var(--panel);border:1px solid var(--stroke);color:var(--text);outline:none}
    .addon-actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .addon-link{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;word-break:break-all}
    details{border:1px dashed var(--stroke);border-radius:12px;padding:10px 12px}
    details summary{cursor:pointer;font-weight:800}
    .filter-row{display:flex;align-items:center;flex-wrap:wrap;gap:10px;margin:10px 0 14px}
    .filter-input{flex:1;min-width:220px;padding:12px 14px;border-radius:12px;background:var(--panel);border:1px solid var(--stroke);color:var(--text);outline:none}
    .filter-input:focus{border-color:var(--brand);box-shadow:0 0 0 1px rgba(125,195,255,.6)}
    .filter-status{font-size:13px;color:var(--muted)}
    .list{padding-inline-start:18px;margin:0}
    .list li{margin:6px 0}
    .rate{display:flex;gap:4px;align-items:center}
    .star{cursor:pointer;font-size:18px;filter:grayscale(1) opacity(.5)}
    .star.on{filter:none;opacity:1}
    /* ×¨×§×¢ ×•×™×–×•××œ×™ ×¢×“×™×Ÿ ×œ×›×¨×˜×™×¡×™ ×•×™×“××• */
    .video-bg{position:absolute;inset:0;opacity:.08;pointer-events:none;background-position:center;background-size:cover}

    /* ××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™ (××•×“××œ) */
    .modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,.35);z-index:60}
    .modal.open{display:grid}
    .modal .sheet{width:min(720px,96vw);max-height:86vh;overflow:auto;background:var(--panel);border:1px solid var(--stroke);border-radius:18px;box-shadow:var(--shadow);padding:16px}

    /* ×›×¤×ª×•×¨ ×¦×£ */
    .fab{position:fixed;bottom:calc(16px + env(safe-area-inset-bottom));left:16px;z-index:50;display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:999px;background:#229ED9;color:#fff;font-weight:900;text-decoration:none;box-shadow:0 10px 24px rgba(0,0,0,.18)}
    .fab:hover{transform:translateY(-1px)}
    .fab .label-short{display:none}
    @media (max-width:480px){ .fab .label{display:none} .fab .label-short{display:inline} .fab{padding:12px} }

    /* ×¤×¡ ×”×ª×§×“××•×ª ×§×˜×Ÿ ×‘×¢×ª × ×™×¡×™×•×Ÿ ×¤×ª×™×—×ª stremio:// */
    .progress{display:none;height:3px;background:linear-gradient(90deg,var(--brand),var(--brand-2));width:0%;border-radius:999px;transition:width .8s ease}
    .progress.running{display:block}
  </style>
</head>
<body>
  <header>
    <div class="container bar" role="banner">
      <div class="logo" title="××¨×›×– ×›×ª×•×‘×™×•×ª ×œâ€‘Stremio">
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" role="img">
          <path d="M4 8a8 8 0 0116 0v5.5a6.5 6.5 0 01-13 0V8" stroke="currentColor" stroke-width="1.6"/>
          <circle cx="12" cy="9.5" r="2.6" stroke="currentColor" stroke-width="1.6"/>
        </svg>
        <span>××¨×›×– ×›×ª×•×‘×™×•×ª ×œâ€‘Stremio â€” PRO</span>
      </div>
      <div class="actions">
        <a class="btn" href="#guide" id="open-guide">××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™</a>
        <a class="btn primary" href="https://www.strem.io/download?platform=windows&four=true" target="_blank" rel="noopener">×”×•×¨×“×” ×œâ€‘Windows</a>
      </div>
    </div>
    <div class="progress" id="open-progress" aria-hidden="true"></div>
  </header>

  <section class="hero container">
    <h1>×”×ª×§× ×” ××”×™×¨×” ×©×œ ×ª×•×¡×¤×™× + ×‘×“×™×§×ª ×–××™× ×•×ª ×—×™×”</h1>
    <p>×œ×—×™×¦×” ×¢×œ â€œ×”×ª×§× ×” ×‘â€‘Stremioâ€ ×ª× ×¡×” ×œ×¤×ª×•×— ××ª ×”××¤×œ×™×§×¦×™×”. ×× ×œ× × ×¤×ª×— ×ª×•×š ×©× ×™×•×ª â€” ××•×¦×’ ×˜×™×¤ ×—×œ×•×¤×™ ×•×”×§×™×©×•×¨ ×”××œ× ×œ×”×¢×ª×§×”.</p>
    <div class="notice" id="proto-notice" aria-live="polite">×‘×•×“×§×™× ×× ×”×“×¤×“×¤×Ÿ ××–×”×” ×¤×¨×•×˜×•×§×•×œ <span class="k">stremio://</span>â€¦</div>
  </section>

  <main class="container" role="main">
    <div class="section-title">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M5 4h14v16H5z" stroke="currentColor" stroke-width="1.6"/><path d="M5 9h14" stroke="currentColor" stroke-width="1.6"/></svg>
      <h2 id="subs">×ª×•×¡×¤×™ ×›×ª×•×‘×™×•×ª ××•××œ×¦×™×</h2>
    </div>

    <div class="filter-row" role="search">
      <label class="pill" for="filter-input" style="gap:6px;">×—×™×¤×•×© ××”×™×¨ <span aria-hidden="true">ğŸ”</span></label>
      <input id="filter-input" class="filter-input" type="search" placeholder="×—×¤×© ×œ×¤×™ ×©×, ×ª×’ ××• ×ª×™××•×¨" autocomplete="off" />
      <div id="filter-status" class="filter-status" aria-live="polite"></div>
    </div>

    <div class="grid" id="addons-grid">
      <!-- OpenSubtitles Pro -->
      <article class="card span-6" data-addon>
        <div class="video-bg" aria-hidden="true" style="background-image:radial-gradient(circle at 30% 20%, rgba(15,155,255,.22), transparent 60%)"></div>
        <div class="pill">×›×ª×•×‘×™×•×ª â€¢ OpenSubtitles <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>OpenSubtitles Pro</h3>
        <p>×ª×•×¡×£ ×¤×•×¤×•×œ×¨×™ ×œ×›×ª×•×‘×™×•×ª ×‘××¡×¤×¨ ×©×¤×•×ª.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="stremio://opensubtitlesv3-pro.dexter21767.com/eyJsYW5ncyI6WyJoZWJyZXciXSwic291cmNlIjoiYWxsIiwiYWlUcmFuc2xhdGVkIjpmYWxzZSwiYXV0b0FkanVzdG1lbnQiOnRydWV9/manifest.json">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="stremio://opensubtitlesv3-pro.dexter21767.com/eyJsYW5ncyI6WyJoZWJyZXciXSwic291cmNlIjoiYWxsIiwiYWlUcmFuc2xhdGVkIjpmYWxzZSwiYXV0b0FkanVzdG1lbnQiOnRydWV9/manifest.json">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="OpenSubtitles Pro" data-url="stremio://opensubtitlesv3-pro.dexter21767.com/eyJsYW5ncyI6WyJoZWJyZXciXSwic291cmNlIjoiYWxsIiwiYWlUcmFuc2xhdGVkIjpmYWxzZSwiYXV0b0FkanVzdG1lbnQiOnRydWV9/manifest.json">×©×ª×£</button>
        </div>
        <details style="margin-top:8px"><summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">stremio://opensubtitlesv3-pro.dexter21767.com/eyJsYW5ncyI6WyJoZWJyZXciXSwic291cmNlIjoiYWxsIiwiYWlUcmFuc2xhdGVkIjpmYWxzZSwiYXV0b0FkanVzdG1lbnQiOnRydWV9/manifest.json</div>
        </details>
        <div class="rate" aria-label="×“×™×¨×•×’ ×§×”×™×œ×ª×™" data-key="rate:opensubs">
          <span>×“×™×¨×•×’:</span>
          <span class="star" role="button" aria-label="1 ×›×•×›×‘">â˜…</span>
          <span class="star" role="button" aria-label="2 ×›×•×›×‘×™×">â˜…</span>
          <span class="star" role="button" aria-label="3 ×›×•×›×‘×™×">â˜…</span>
          <span class="star" role="button" aria-label="4 ×›×•×›×‘×™×">â˜…</span>
          <span class="star" role="button" aria-label="5 ×›×•×›×‘×™×">â˜…</span>
          <span class="avg" aria-live="polite"></span>
        </div>
      </article>

      <!-- Wizdom Subtitles -->
      <article class="card span-6" data-addon>
        <div class="pill">×›×ª×•×‘×™×•×ª â€¢ ×§×”×™×œ×” <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>Wizdom Subtitles (V2)</h3>
        <p>××§×•×¨ ×›×ª×•×‘×™×•×ª × ×•×¡×£.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="stremio://4b139a4b7f94-wizdom-stremio-v2.baby-beamup.club/manifest.json">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="stremio://4b139a4b7f94-wizdom-stremio-v2.baby-beamup.club/manifest.json">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="Wizdom Subtitles (V2)" data-url="stremio://4b139a4b7f94-wizdom-stremio-v2.baby-beamup.club/manifest.json">×©×ª×£</button>
        </div>
        <details style="margin-top:8px"><summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">stremio://4b139a4b7f94-wizdom-stremio-v2.baby-beamup.club/manifest.json</div>
        </details>
        <div class="rate" aria-label="×“×™×¨×•×’ ×§×”×™×œ×ª×™" data-key="rate:wizdom">
          <span>×“×™×¨×•×’:</span>
          <span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span>
          <span class="avg" aria-live="polite"></span>
        </div>
      </article>

      <!-- Ktuvit -->
      <article class="card span-6" data-addon>
        <div class="pill">×›×ª×•×‘×™×•×ª â€¢ ×¢×‘×¨×™×ª <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>Ktuvit Subtitles</h3>
        <p>××ª××§×“ ×‘×›×ª×•×‘×™×•×ª ×‘×¢×‘×¨×™×ª.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="stremio://4b139a4b7f94-ktuvit-stremio.baby-beamup.club/manifest.json">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="stremio://4b139a4b7f94-ktuvit-stremio.baby-beamup.club/manifest.json">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="Ktuvit Subtitles" data-url="stremio://4b139a4b7f94-ktuvit-stremio.baby-beamup.club/manifest.json">×©×ª×£</button>
        </div>
        <details style="margin-top:8px"><summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">stremio://4b139a4b7f94-ktuvit-stremio.baby-beamup.club/manifest.json</div>
        </details>
        <div class="rate" aria-label="×“×™×¨×•×’ ×§×”×™×œ×ª×™" data-key="rate:ktuvit">
          <span>×“×™×¨×•×’:</span>
          <span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span>
          <span class="avg" aria-live="polite"></span>
        </div>
      </article>

      <!-- Hebrew Telegram Subtitles -->
      <article class="card span-6" data-addon>
        <div class="pill">×›×ª×•×‘×™×•×ª â€¢ ×˜×œ×’×¨× <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>Hebrew Telegram Subtitles</h3>
        <p>×ª×•×¡×£ ×›×ª×•×‘×™×•×ª ×”××‘×•×¡×¡ ×¢×œ ×§×‘×•×¦×ª ×”×˜×œ×’×¨×.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="stremio://stremio7rd-hebrew-telegram-subtitles.vercel.app/manifest.json">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="stremio://stremio7rd-hebrew-telegram-subtitles.vercel.app/manifest.json">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="Hebrew Telegram Subtitles" data-url="stremio://stremio7rd-hebrew-telegram-subtitles.vercel.app/manifest.json">×©×ª×£</button>
        </div>
        <details style="margin-top:8px"><summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">stremio://stremio7rd-hebrew-telegram-subtitles.vercel.app/manifest.json</div>
        </details>
        <div class="rate" aria-label="×“×™×¨×•×’ ×§×”×™×œ×ª×™" data-key="rate:heb-tg">
          <span>×“×™×¨×•×’:</span>
          <span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span>
          <span class="avg" aria-live="polite"></span>
        </div>
      </article>

      <!-- AIostreams -->
      <article class="card span-6" data-addon>
        <div class="video-bg" aria-hidden="true" style="background-image:radial-gradient(circle at 70% 20%, rgba(124,58,237,.22), transparent 60%)"></div>
        <div class="pill">×•×™×“××• <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>AIostreams (Elfhosted)</h3>
        <p>×ª×•×¡×£ ×œ×¡×¨×˜×™× ×•×¡×“×¨×•×ª.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="stremio://noamin25-aiostreams.elfhosted.com/stremio/a9b22ed7-e337-4471-9480-a66f64f3941b/eyJpdiI6Iit0WnYwR2dyYWRzZFQ1V0VPdlVXWmc9PSIsImVuY3J5cHRlZCI6IjdmNVd4VGpaVS92WDdzWVU5Z0pmVVZ4R3NsUm5XSFQwREwveW5BMnJTTUk9IiwidHlwZSI6ImFpb0VuY3J5cHQifQ/manifest.json">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="stremio://noamin25-aiostreams.elfhosted.com/stremio/a9b22ed7-e337-4471-9480-a66f64f3941b/eyJpdiI6Iit0WnYwR2dyYWRzZFQ1V0VPdlVXWmc9PSIsImVuY3J5cHRlZCI6IjdmNVd4VGpaVS92WDdzWVU5Z0pmVVZ4R3NsUm5XSFQwREwveW5BMnJTTUk9IiwidHlwZSI6ImFpb0VuY3J5cHQifQ/manifest.json">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="AIostreams (Elfhosted)" data-url="stremio://noamin25-aiostreams.elfhosted.com/stremio/a9b22ed7-e337-4471-9480-a66f64f3941b/eyJpdiI6Iit0WnYwR2dyYWRzZFQ1V0VPdlVXWmc9PSIsImVuY3J5cHRlZCI6IjdmNVd4VGpaVS92WDdzWVU5Z0pmVVZ4R3NsUm5XSFQwREwveW5BMnJTTUk9IiwidHlwZSI6ImFpb0VuY3J5cHQifQ/manifest.json">×©×ª×£</button>
        </div>
        <details style="margin-top:8px"><summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">stremio://noamin25-aiostreams.elfhosted.com/stremio/a9b22ed7-e337-4471-9480-a66f64f3941b/eyJpdiI6Iit0WnYwR2dyYWRzZFQ1V0VPdlVXWmc9PSIsImVuY3J5cHRlZCI6IjdmNVd4VGpaVS92WDdzWVU5Z0pmVVZ4R3NsUm5XSFQwREwveW5BMnJTTUk9IiwidHlwZSI6ImFpb0VuY3J5cHQifQ/manifest.json</div>
        </details>
        <div class="rate" aria-label="×“×™×¨×•×’ ×§×”×™×œ×ª×™" data-key="rate:aio">
          <span>×“×™×¨×•×’:</span>
          <span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span><span class="star">â˜…</span>
          <span class="avg" aria-live="polite"></span>
        </div>
      </article>

      <!-- Custom Addon Builder -->
      <article class="card span-12" id="builder">
        <div class="pill">×ª×•×¡×£ ××•×ª×× ××™×©×™×ª</div>
        <h3>×”×•×¡×¤×ª ×ª×•×¡×£ ××—×¨</h3>
        <p>×™×© ×œ×›× ×§×™×©×•×¨ <span class="k">stremio://â€¦/manifest.json</span>? ×”×“×‘×™×§×• ×›××Ÿ ×•× ×™×™×¦×¨ ×›×¨×˜×™×¡ ×¢× ×›×¤×ª×•×¨×™ ×”×ª×§× ×”, ×”×¢×ª×§×” ×•×©×™×ª×•×£. ×–×™×”×•×™ ××•×˜×•××˜×™ ×‘×¢×ª ×”×“×‘×§×”.</p>
        <label class="muted" for="custom-url">×§×™×©×•×¨ ×œ×ª×•×¡×£:</label>
        <input id="custom-url" class="input" placeholder="stremio://example.com/manifest.json" autocomplete="off" />
        <div class="addon-actions">
          <button class="btn small" id="make-addon">×¦×•×¨ ×›×¨×˜×™×¡ ×ª×•×¡×£</button>
          <button class="btn small" id="test-addon">×‘×“×•×§ ×–××™× ×•×ª</button>
        </div>
        <div id="custom-holder" class="grid" style="margin-top:10px;"></div>
      </article>
    </div>

    <div class="section-title" id="guide" style="margin-top:22px;">
      <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="1.6"/></svg>
      <h2>××“×¨×™×š ×§×¦×¨: ×”×ª×§× ×”, ×¡× ×›×¨×•×Ÿ, ×•×¡×˜×¨×™××¨</h2>
    </div>

    <article class="card">
      <h3>1) ×”×ª×§× ×ª Stremio ×œ××—×©×‘</h3>
      <ol class="list">
        <li>×œ×—×¦×• ×¢×œ <a href="https://www.strem.io/download?platform=windows&four=true" target="_blank" rel="noopener">×”×•×¨×“×” ×œâ€‘Windows</a> ×•×”×ª×§×™× ×•.</li>
        <li>×¤×ª×—×• ××ª Stremio ×•×”×™×›× ×¡×•/×¦×¨×• ×—×©×‘×•×Ÿ â€” ×”×¡× ×›×¨×•×Ÿ ×‘×™×Ÿ ××›×©×™×¨×™× ×§×•×¨×” ×“×¨×š ×”×—×©×‘×•×Ÿ.</li>
      </ol>

      <h3>2) ×”×ª×§× ×ª ×ª×•×¡×¤×™ ×›×ª×•×‘×™×•×ª</h3>
      <ol class="list">
        <li>×‘××—×©×‘: ×œ×—×™×¦×” ×¢×œ <span class="k">×”×ª×§× ×” ×‘â€‘Stremio</span> ×ª× ×¡×” ×œ×¤×ª×•×— ××ª ×”××¤×œ×™×§×¦×™×”.</li>
        <li>×× ×–×” ×œ× × ×¤×ª×—: ×”×¦×™×’×• ××ª ×”×›×ª×•×‘×ª ×‘×›×¨×˜×™×¡ ×•×”×¢×ª×™×§×• ×œâ€‘Stremio (Addâ€‘ons â–¸ Community).</li>
      </ol>

      <h3>3) ×¡×˜×¨×™××¨ (Android TV / Google TV / Fire TV)</h3>
      <ol class="list">
        <li>×”×ª×§×™× ×• ××ª ××¤×œ×™×§×¦×™×™×ª Stremio ×‘×¡×˜×¨×™××¨ ×•×”×ª×—×‘×¨×• ×¢× <strong>××•×ª×• ×—×©×‘×•×Ÿ</strong>.</li>
        <li>×œ××—×¨ ×”×”×ª×—×‘×¨×•×ª, ×”×ª×•×¡×¤×™× ×”××©×•×™×›×™× ×œ×—×©×‘×•×Ÿ ×™×•×¤×™×¢×• ××•×˜×•××˜×™×ª.</li>
        <li>×‘× ×™×’×•×Ÿ, ××¤×©×¨ ×œ×‘×—×•×¨ × ×’×Ÿ ×—×™×¦×•× ×™ (×›××• VLC) ×× ××¢×“×™×¤×™×.</li>
      </ol>

      <h3>4) ×¡× ×›×¨×•×Ÿ ××”×™×¨ ×‘×™×Ÿ ××›×©×™×¨×™×</h3>
      <ul class="list">
        <li>×‘×¨×™×¨×ª ×”××—×“×œ: ×”×¡× ×›×¨×•×Ÿ ×§×•×¨×” ×“×¨×š ×”×—×©×‘×•×Ÿ.</li>
        <li>×‘×“×™×§×”: ×‘×œ×©×•× ×™×ª <span class="k">Addâ€‘ons â–¸ Installed</span> ×¨×•××™× ××” ××•×ª×§×Ÿ ×‘××›×©×™×¨.</li>
      </ul>

      <details style="margin-top:8px">
        <summary>×¤×ª×¨×•×Ÿ ×ª×§×œ×•×ª ×§×¦×¨</summary>
        <ul class="list">
          <li><strong>×›×¤×ª×•×¨ ×”×”×ª×§× ×” ×œ× ×¤×•×ª×—:</strong> ×”×¢×ª×™×§×• ××ª ×”×§×™×©×•×¨ ×™×“× ×™×ª ×œâ€‘Stremio (Addâ€‘ons â–¸ Community).</li>
          <li><strong>×›×ª×•×‘×™×•×ª ×œ× ××•×¤×™×¢×•×ª:</strong> ×‘×“×§×• ××ª ×©×¤×ª ×‘×¨×™×¨×ª ×”××—×“×œ ×‘×”×’×“×¨×•×ª ×”× ×’×Ÿ ×•× ×¡×• ××§×•×¨ ×›×ª×•×‘×™×•×ª × ×•×¡×£.</li>
          <li><strong>×”×ª×•×¡×¤×™× ×œ× ××¡×ª× ×›×¨× ×™×:</strong> ×•×“××• ×”×ª×—×‘×¨×•×ª ×œ××•×ª×• ×—×©×‘×•×Ÿ ×•×‘×“×§×• ×—×™×‘×•×¨ ××™× ×˜×¨× ×˜.</li>
        </ul>
      </details>
    </article>
  </main>

  <!-- ×›×¤×ª×•×¨ ×¦×£ ×œ×˜×œ×’×¨× -->
  <a class="fab" href="https://t.me/stremioedil" target="_blank" rel="noopener" title="×”×¦×˜×¨×¤×•×ª ×œ×§×‘×•×¦×ª ×˜×œ×’×¨×" aria-label="×”×¦×˜×¨×¤×•×ª ×œ×§×‘×•×¦×ª ×˜×œ×’×¨×">
    <span aria-hidden="true">âœˆï¸</span>
    <span class="label">×”×¦×˜×¨×¤×•×ª ×œ×§×‘×•×¦×ª ×˜×œ×’×¨×</span>
    <span class="label-short">×˜×œ×’×¨×</span>
  </a>

  <!-- ××•×“××œ ××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™ -->
  <div class="modal" id="guide-modal" role="dialog" aria-modal="true" aria-labelledby="guide-title">
    <div class="sheet">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
        <h3 id="guide-title" style="margin:0">××“×¨×™×š ××™× ×˜×¨××§×˜×™×‘×™ ××”×™×¨</h3>
        <button class="btn small" id="close-guide" aria-label="×¡×’×•×¨ ××“×¨×™×š">×¡×’×•×¨</button>
      </div>
      <ol class="list" style="margin-top:10px">
        <li><strong>×”×ª×§× ×”:</strong> ×”×•×¨×™×“×• ××ª Stremio, ×”×ª×—×‘×¨×• ×œ×—×©×‘×•×Ÿ. × ×™×ª×Ÿ ×œ×’×¨×•×¨ ×§×™×©×•×¨×™× ×™×©×™×¨×•×ª ×œ××¤×œ×™×§×¦×™×”.</li>
        <li><strong>×ª×•×¡×¤×™×:</strong> ×œ×—×¦×• ×¢×œ â€œ×”×ª×§× ×” ×‘â€‘Stremioâ€. ×× ×œ× × ×¤×ª×— â€” ×¤×ª×—×• Stremio â†’ Addâ€‘ons â†’ Community ×•×—×¤×©×• ××ª ×©× ×”×ª×•×¡×£ ××• ×”×“×‘×™×§×• ××ª ×”×›×ª×•×‘×ª.</li>
        <li><strong>×¡×˜×¨×™××¨:</strong> ×”×ª×§×™× ×• ×‘×¡×˜×¨×™××¨ ×•×”×ª×—×‘×¨×• ×œ××•×ª×• ×—×©×‘×•×Ÿ. ×”×ª×•×¡×¤×™× ×™×•×¤×™×¢×• ××•×˜×•××˜×™×ª.</li>
        <li><strong>×˜×™×¤×™×:</strong> ×”×¢×“×™×¤×• VLC ×›× ×’×Ÿ ×—×™×¦×•× ×™ ×‘××›×©×™×¨×™× ×—×œ×©×™×; ×¢×“×›× ×• ×ª×•×¡×¤×™× ××—×ª ×œ×ª×§×•×¤×”.</li>
      </ol>
    </div>
  </div>

  <script>
    // ===== Utility =====
    const $$ = (sel, ctx=document) => Array.from(ctx.querySelectorAll(sel));
    const $ = (sel, ctx=document) => ctx.querySelector(sel);

    // ===== Progress bar when trying to open stremio:// =====
    function runProgress(){
      const bar = document.getElementById('open-progress');
      bar.classList.add('running');
      bar.style.width = '30%';
      setTimeout(()=> bar.style.width='70%', 500);
      setTimeout(()=> { bar.style.width='100%'; bar.classList.remove('running'); bar.style.width='0%'; }, 2300);
    }

    // ===== Guide modal =====
    document.getElementById('open-guide').addEventListener('click', (e)=>{
      e.preventDefault();
      document.getElementById('guide-modal').classList.add('open');
    });
    document.getElementById('close-guide').addEventListener('click', ()=>{
      document.getElementById('guide-modal').classList.remove('open');
    });
    document.getElementById('guide-modal').addEventListener('click', (e)=>{
      if(e.target.id==='guide-modal') e.currentTarget.classList.remove('open');
    });

    // ===== Attempt to detect protocol support (heuristic) =====
    (function protoCheck(){
      const notice = document.getElementById('proto-notice');
      // No reliable API; we use a heuristic with timeout after attempting to open a no-op link
      let opened = false; let timer;
      const testLink = document.createElement('a');
      testLink.href = 'stremio://noop';
      testLink.style.display='none';
      document.body.appendChild(testLink);
      const start = Date.now();
      // Try to open and then quickly show a generic message; this won't be perfect but gives feedback.
      setTimeout(()=>{
        if(Date.now()-start < 1200){ notice.textContent = '×™×™×ª×›×Ÿ ×©×”×“×¤×“×¤×Ÿ ×œ× ××–×”×” stremio:// â€” ××™×Ÿ ×‘×¢×™×”, ×œ×›×œ ×›×¨×˜×™×¡ ×™×© ×›×¤×ª×•×¨ ×”×¢×ª×§×” ×•×©×™×ª×•×£.'; }
        else { notice.textContent = '× ×¨××” ×©×”×“×¤×“×¤×Ÿ ××–×”×” stremio://. ×œ×—×™×¦×” ×ª× ×¡×” ×œ×¤×ª×•×— ××ª Stremio.'; }
      }, 800);
      setTimeout(()=> document.body.removeChild(testLink), 1200);
    })();

    // ===== Copy / Share =====
    async function copyText(t){
      try{ await navigator.clipboard.writeText(t); return true; }catch{ return false; }
    }
    $$('.copy').forEach(btn => btn.addEventListener('click', async ()=>{
      const ok = await copyText(btn.dataset.copy);
      btn.textContent = ok ? '×”×•×¢×ª×§ âœ“' : '×©×’×™××” ×‘×”×¢×ª×§×”';
      setTimeout(()=> btn.textContent='×”×¢×ª×§ ×§×™×©×•×¨', 1500);
    }));

    $$('.share').forEach(btn => btn.addEventListener('click', async ()=>{
      const {title, url} = btn.dataset;
      if(navigator.share){
        try{ await navigator.share({title: '×ª×•×¡×£ ×œâ€‘Stremio â€” '+title, text: title, url}); }
        catch(e){}
      } else {
        await copyText(url);
        btn.textContent = '×”×•×¢×ª×§ ×œ×©×™×ª×•×£ âœ“';
        setTimeout(()=> btn.textContent='×©×ª×£', 1500);
      }
    }));

    // ===== Open stremio:// with fallback hint =====
    $$('.open-stremio').forEach(a => a.addEventListener('click', ()=>{
      runProgress();
      // After 2 sec, if app didn't open, show a hint (non-invasive)
      setTimeout(()=>{
        const tip = document.createElement('div');
        tip.className='notice';
        tip.textContent='×œ× × ×¤×ª×—? ×”×¢×ª×™×§×• ××ª ×”×§×™×©×•×¨ ××”×›×¨×˜×™×¡ ×•×”×“×‘×™×§×• ×‘â€‘Stremio (Addâ€‘ons â–¸ Community).';
        a.closest('[data-addon]').appendChild(tip);
      }, 2000);
    }));

    // ===== Rating (localStorage only, simple avg) =====
    function loadRating(key){ return JSON.parse(localStorage.getItem(key) || '[]'); }
    function saveRating(key, arr){ localStorage.setItem(key, JSON.stringify(arr)); }
    function initRating(block){
      const key = block.dataset.key;
      const stars = $$('.star', block);
      const avgEl = $('.avg', block);
      const data = loadRating(key);
      function render(){
        const sum = data.reduce((a,b)=>a+b,0); const avg = data.length? (sum/data.length).toFixed(1): '-';
        avgEl.textContent = `(${avg}${avg==='-'?'':'â˜…'} / ${data.length} ×“×™×¨×•×’×™×)`;
      }
      stars.forEach((s, i)=>{
        s.addEventListener('click', ()=>{ data.push(i+1); saveRating(key, data); highlight(i+1); render(); });
      });
      function highlight(n){ stars.forEach((s, idx)=> s.classList.toggle('on', idx < n)); }
      highlight(Math.round((data.reduce((a,b)=>a+b,0)/(data.length||1))));
      render();
    }
    $$('.rate').forEach(initRating);

    // ===== Health check: try fetching manifest over https (if CORS allows) =====
    async function checkAddon(el){
      const link = $('.open-stremio', el)?.getAttribute('href') || '';
      const pill = $('.pill', el); const dot = $('.dot', el); const status = $('.status-text', el);
      if(!link){ return; }
      try{
        const httpsURL = link.replace('stremio://', 'https://');
        const res = await fetch(httpsURL, { method:'GET', mode:'no-cors' });
        // With no-cors we cannot read status; assume ok if no network error occurred
        dot.classList.add('ok'); status.textContent='×–××™×Ÿ (×‘×“×™×§×” ×‘×¡×™×¡×™×ª)';
      } catch(e){ dot.classList.add('bad'); status.textContent='×œ× ×–××™×Ÿ ×›×¨×’×¢'; pill.style.borderColor='var(--bad)'; }
    }
    $$('[data-addon]').forEach(checkAddon);

    // ===== Filter addons by text =====
    const filterInput  = document.getElementById('filter-input');
    const filterStatus = document.getElementById('filter-status');
    const addonCards   = () => $$('#addons-grid [data-addon]');

    function applyFilter(){
      const term = (filterInput?.value || '').trim().toLowerCase();
      let visible = 0;
      addonCards().forEach(card => {
        const match = !term || card.textContent.toLowerCase().includes(term);
        card.style.display = match ? '' : 'none';
        if(match) visible++;
      });
      if(filterStatus){
        const total = addonCards().length;
        filterStatus.textContent = term ? `${visible} ××ª×•×š ${total} ×›×¨×˜×™×¡×™× × ××¦××•` : `×¡×”"×› ${total} ×›×¨×˜×™×¡×™ ×ª×•×¡×£ ××•×¦×’×™×`;
      }
    }

    filterInput?.addEventListener('input', applyFilter);
    applyFilter();

    // ===== Custom Addon Builder =====
    const makeBtn = document.getElementById('make-addon');
    const testBtn = document.getElementById('test-addon');
    const input = document.getElementById('custom-url');
    const holder = document.getElementById('custom-holder');

    function valid(url){ return /^stremio:\/\/.+\/manifest\.json$/i.test(url); }

    function buildCard(url){
      const el = document.createElement('article');
      el.className = 'card span-6';
      el.setAttribute('data-addon','');
      el.innerHTML = `
        <div class="pill">×ª×•×¡×£ ××•×ª×× ××™×©×™×ª <span class="status"><span class="dot" aria-hidden="true"></span><span class="status-text">×‘×•×“×§â€¦</span></span></div>
        <h3>×ª×•×¡×£ ×¤×¨×˜×™</h3>
        <p class="muted">× ×•×¦×¨ ××›××Ÿ.</p>
        <div class="addon-actions">
          <a class="btn primary small pill open-stremio" href="${url}">×”×ª×§× ×” ×‘â€‘Stremio</a>
          <button class="btn small copy" data-copy="${url}">×”×¢×ª×§ ×§×™×©×•×¨</button>
          <button class="btn small share" data-title="×ª×•×¡×£ ×¤×¨×˜×™" data-url="${url}">×©×ª×£</button>
        </div>
        <details style="margin-top:8px">
          <summary>×œ×”×¦×™×’ ××ª ×›×ª×•×‘×ª ×”×ª×•×¡×£</summary>
          <div class="addon-link">${url}</div>
        </details>
      `;
      holder.appendChild(el);
      // Wire up handlers in the new card
      $('.copy', el).addEventListener('click', async (ev)=>{
        const ok = await copyText(url);
        ev.currentTarget.textContent = ok ? '×”×•×¢×ª×§ âœ“' : '×©×’×™××” ×‘×”×¢×ª×§×”';
        setTimeout(()=> ev.currentTarget.textContent='×”×¢×ª×§ ×§×™×©×•×¨', 1500);
      });
      $('.share', el).addEventListener('click', async ()=>{
        if(navigator.share){ await navigator.share({title:'×ª×•×¡×£ ×œâ€‘Stremio', text:'×§×™×©×•×¨ ×œ×ª×•×¡×£', url}); }
        else { await copyText(url); }
      });
      $('.open-stremio', el).addEventListener('click', runProgress);
      checkAddon(el);
    }

    makeBtn?.addEventListener('click', ()=>{
      const url = (input.value||'').trim();
      if(!valid(url)) { alert('× × ×œ×”×–×™×Ÿ ×§×™×©×•×¨ ×ª×§×™×Ÿ ×‘×¤×•×¨××˜ stremio://â€¦/manifest.json'); return; }
      buildCard(url); input.value=''; input.focus();
    });

    // Auto-build on valid paste/input
    input.addEventListener('input', (e)=>{
      const v = e.target.value.trim();
      if(valid(v)) { buildCard(v); e.target.value=''; }
    });

    // Test availability for pasted URL without creating a card
    testBtn?.addEventListener('click', async ()=>{
      const url = (input.value||'').trim();
      if(!valid(url)) { alert('×§×™×©×•×¨ ×œ× ×ª×§×™×Ÿ'); return; }
      try{
        await fetch(url.replace('stremio://','https://'), {mode:'no-cors'});
        alert('× ×¨××” ×ª×§×™×Ÿ (×‘×“×™×§×” ×‘×¡×™×¡×™×ª â€” ×™×™×ª×›× ×• ××’×‘×œ×•×ª CORS)');
      }catch{ alert('×œ× × ×™×ª×Ÿ ×œ×’×©×ª ×œ×§×™×©×•×¨ (×™×ª×›×Ÿ ×œ× ×¤×¢×™×œ)'); }
    });

    // ===== PWA minimal (singleâ€‘file SW via Blob) =====
    if('serviceWorker' in navigator){
      const swCode = `self.addEventListener('install',e=>{e.waitUntil(caches.open('stremio-pro-v1').then(c=>c.addAll(['./'])))});self.addEventListener('fetch',e=>{e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request)))})`;
      const blob = new Blob([swCode], {type:'text/javascript'});
      const url = URL.createObjectURL(blob);
      navigator.serviceWorker.register(url).catch(()=>{});
    }
  </script>
</body>
</html>

